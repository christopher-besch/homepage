<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta data-react-helmet="true" name="description" content="Maki, Atoms and Time Travel—Christopher Besch"/><meta data-react-helmet="true" name="author" content="Christopher Besch"/><meta data-react-helmet="true" property="twitter:image:src" content="https://dev.chris-besch.com/social_banner/maki_atoms_and_time_travel.png"/><meta data-react-helmet="true" name="twitter:creator" content="@besch_chris"/><meta data-react-helmet="true" name="twitter:site" content="@besch_chris"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" property="og:image" content="https://dev.chris-besch.com/social_banner/maki_atoms_and_time_travel.png"/><meta data-react-helmet="true" property="og:description" content=" Maki showcases how a program for interactive and programmatic animation development can be implemented.
Its programmatic approach provides the precision technical concepts require, while its interactivity and real-time updates avoid a disconnect between input and output. "/><meta data-react-helmet="true" property="og:title" content="Maki, Atoms and Time Travel—Christopher Besch"/><meta data-react-helmet="true" property="og:url"/><meta data-react-helmet="true" charSet="utf-8"/><meta name="generator" content="Gatsby 4.13.0"/><style data-href="/styles.4f41f24f0c5e5b0d83a3.css" data-identity="gatsby-global-css">.half_element-module--wrapper--moV5-{margin:0}.half_element-module--element--DCuyc{float:right;height:auto;margin-left:16px;max-width:60%}.half_element-module--full_element--XvIyH{float:left;height:auto;margin-bottom:16px;max-width:100%;width:100%}.half_element-module--before--6ITLy{clear:both;content:"";display:table}.half_element-module--after--1comw{display:none}@media(max-width:1100px){.half_element-module--wrapper--moV5-{margin-bottom:16px}.half_element-module--element--DCuyc{float:left;margin-left:0;max-width:100%}.half_element-module--before--6ITLy{display:none}.half_element-module--after--1comw{clear:both;display:table}}.utils-module--block--2uJ2W,.utils-module--main_block--S0Wrv{background:#212529;border-radius:3px;display:inline-block;padding:10px 16px}main_block{margin-top:16px}.utils-module--link--9Zc9Q{margin-bottom:16px;margin-right:20px;text-decoration:none}.utils-module--link--9Zc9Q:hover{background-color:hsla(0,0%,100%,.4)}.utils-module--spacer--VOmJs{clear:both;content:"";display:table}.video-module--video--iIx8z,.video-module--video_no_print--gSNum{height:auto;width:100%}.video-module--removed_warn--qVTBl{display:none}@media print{.video-module--video_no_print--gSNum{display:none}.video-module--removed_warn--qVTBl{display:block}}.half_image-module--image--lFthA{width:100%}.iframe-module--wrapper--Uwu0s{padding-top:56.25%;position:relative;width:100%}.iframe-module--iframe--29vU7{height:100%;left:0;position:absolute;top:0;width:100%}.heading-module--heading--2iUAG{background-color:#343a40;border-radius:3px;display:inline-block;padding:9px 7px;width:100%}.heading-module--heading--2iUAG h1{font-size:50px;padding:0 7px;word-break:break-word}@media print{.heading-module--heading--2iUAG h1{font-size:30px!important}}.heading-module--heading--2iUAG hr{border-color:#fff;margin-bottom:10px;margin-top:10px}@media(max-width:700px){.heading-module--heading--2iUAG hr{display:none}}.heading-module--icon--Kb\+tp{background:#fff;float:right;height:2em;margin-left:10px;-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:contain;mask-size:contain;width:2em}.heading-module--sub_heading---FgTH{float:right;font-size:40px;margin-left:10px;text-align:right}@font-face{font-family:liberation_sans;font-style:normal;font-weight:400;src:url(/fonts/LiberationSans-Regular-webfont.woff) format("woff")}@font-face{font-family:liberation_sans;font-style:normal;font-weight:700;src:url(/fonts/LiberationSans-Bold-webfont.woff) format("woff")}@font-face{font-family:liberation_sans;font-style:italic;font-weight:400;src:url(/fonts/LiberationSans-Italic-webfont.woff) format("woff")}@font-face{font-family:liberation_sans;font-style:italic;font-weight:700;src:url(/fonts/LiberationSans-BoldItalic-webfont.woff) format("woff")}a,abbr,acronym,address,applet,article,aside,audio,b,big,blockquote,body,canvas,caption,center,cite,code,dd,del,details,dfn,div,dl,dt,em,embed,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hgroup,html,i,iframe,img,ins,kbd,label,legend,li,mark,menu,nav,object,ol,output,p,pre,q,ruby,s,samp,section,small,span,strike,strong,sub,summary,sup,table,tbody,td,tfoot,th,thead,time,tr,tt,u,ul,var,video{border:0;color:#fff;font-size:100%;font:inherit;margin:0;padding:0;vertical-align:baseline}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}body{background-color:#343a40;font-family:liberation_sans,Arial;line-height:1}blockquote,q{quotes:none}blockquote:after,blockquote:before,q:after,q:before{content:"";content:none}table{border-collapse:collapse;border-spacing:0}a{color:#fffcf2}*{box-sizing:border-box}a.anchor{fill:#fff}.layout-module--nav--ma0SR{align-items:center;background-color:#212529;color:#fff;display:flex;justify-content:space-between;padding:20px}@media print{.layout-module--nav--ma0SR{display:none!important}}.layout-module--nav--ma0SR input[type=checkbox]{display:none}.layout-module--nav_menu--uoKLm a{color:#fff;text-decoration:none}.layout-module--logo--9Ozid{font-family:Menlo,monospace;margin-left:30px}.layout-module--logo--9Ozid h1{font-size:24px}.layout-module--logo--9Ozid h2{font-size:18px;margin-top:5px}.layout-module--nav_menu--uoKLm li:last-child{margin-right:30px}.layout-module--nav_menu--uoKLm{display:flex;font-size:18px;gap:0}.layout-module--nav_menu--uoKLm li{list-style:none}.layout-module--nav_menu--uoKLm a{padding:7px 10px}.layout-module--nav_menu--uoKLm a:hover{background-color:hsla(0,0%,100%,.4);border-radius:3px}.layout-module--hamburger--h7E0E{display:none;font-size:24px;-webkit-user-select:none;-ms-user-select:none;user-select:none}@media(max-width:768px){.layout-module--hamburger--h7E0E{margin-bottom:35px}.layout-module--nav_menu--uoKLm{background-color:#212529;display:block;left:0;max-height:0;overflow:hidden;padding:0;position:absolute;right:0;text-align:center;transition:max-height .3s ease-out,padding .3s ease-out}.layout-module--nav--ma0SR input[type=checkbox]:checked~.layout-module--nav_menu--uoKLm{max-height:500px;padding:16px 0;transition:max-height .3s ease-in,padding .3s ease-in;z-index:10}.layout-module--logo--9Ozid{padding-left:0}.layout-module--nav_menu--uoKLm li:last-child{margin-right:0}.layout-module--nav_menu--uoKLm li:hover{display:inline-block}.layout-module--nav_menu--uoKLm li+li{margin-top:12px}.layout-module--hamburger--h7E0E{display:block}.layout-module--hamburger--h7E0E:hover{cursor:pointer}}.layout-module--content--u4In\+{margin:auto;max-width:1280px;min-height:88vh;padding:20px}.layout-module--footer--4b3\+4{background-color:#212529;display:flex;font-family:Menlo,monospace;height:auto;padding-bottom:10px;padding-top:10px;width:100%}@media print{.layout-module--footer--4b3\+4{display:none!important}}.layout-module--footer--4b3\+4 ul{grid-gap:24px;display:inline-grid;grid-auto-flow:row;justify-items:center;list-style:none;margin:auto}@media(min-width:768px){.layout-module--footer--4b3\+4 ul{grid-auto-flow:column}}.layout-module--footer--4b3\+4 li *{color:#fff;text-decoration:none}.layout-module--footer--4b3\+4 li a{box-shadow:inset 0 -1px 0 hsla(0,0%,100%,.4)}.layout-module--footer--4b3\+4 a:hover{box-shadow:inset 0 -1.2em 0 hsla(0,0%,100%,.4)}.layout-module--emoji--Mxypj{grid-column:1/2;grid-row:1/2}.layout-module--link--8S4u4:hover~.layout-module--emoji--Mxypj p{-webkit-animation:layout-module--wave-animation--mBJvQ .5s infinite;animation:layout-module--wave-animation--mBJvQ .5s infinite}@-webkit-keyframes layout-module--wave-animation--mBJvQ{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(0deg);transform:rotate(0deg)}25%{-webkit-transform:rotate(10deg);transform:rotate(10deg)}75%{-webkit-transform:rotate(-7deg);transform:rotate(-7deg)}}@keyframes layout-module--wave-animation--mBJvQ{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(0deg);transform:rotate(0deg)}25%{-webkit-transform:rotate(10deg);transform:rotate(10deg)}75%{-webkit-transform:rotate(-7deg);transform:rotate(-7deg)}}.about-module--container--UXzhg:after{clear:both;content:"";display:table}.about-module--about--Cpp23{float:left;margin-bottom:16px;width:calc(100% - 600px)}.about-module--about--Cpp23 p{line-height:18px;margin-bottom:16px}.about-module--about--Cpp23 h2{font-size:2em;line-height:1.25;margin-bottom:16px}.about-module--about--Cpp23 ul{margin-bottom:10px;margin-top:10px;padding-left:30px}.about-module--about--Cpp23 li{list-style-type:disc}.about-module--contacts--vKPMu{float:right;width:600px}.about-module--contact--BsF7n{float:left;padding-left:16px;width:50%}.about-module--contact--BsF7n:after{clear:both;content:"";display:table}.about-module--contact--BsF7n:hover .about-module--icon--SGWAJ{mask-size:91% 91%;-webkit-mask-size:91% 91%}.about-module--contact--BsF7n:hover hr{border-color:#31afd4}.about-module--content--znF5b{background-color:#212529;border-radius:3px;margin-bottom:16px;padding:10px}.about-module--content--znF5b hr{border-color:orange;margin:5px -5px 10px;transition:border-color .3s}.about-module--icon--SGWAJ{background-color:#fff;display:inline-block;height:10vh;mask-position:center;-webkit-mask-position:center;mask-repeat:no-repeat;-webkit-mask-repeat:no-repeat;mask-size:90% 90%;-webkit-mask-size:90% 90%;transition:-webkit-mask-size -webkit-mask-size .3s .3s;transition:mask-size -webkit-mask-size .3s .3s;transition:mask-size -webkit-mask-size .3s .3s,-webkit-mask-size -webkit-mask-size .3s .3s;width:100%}@media(max-width:1000px){.about-module--about--Cpp23,.about-module--contacts--vKPMu{width:100%}.about-module--contact--BsF7n{padding-left:0;width:100%}}.project_list-module--projects--r5Yl-{margin:-24px -16px 8px;padding:16px 8px 0}.project_list-module--projects--r5Yl-:after{clear:both;content:"";display:table}.project_list-module--project--s09uQ{float:left;padding:8px;text-decoration:none;width:var(--full-width)}.project_list-module--project--s09uQ:hover .project_list-module--icon--af6I8{opacity:100%}.project_list-module--project--s09uQ:hover .project_list-module--icon_mono--f98N0{opacity:0}.project_list-module--project--s09uQ:hover hr{border-color:#31afd4}.project_list-module--content--X4RCX{background-color:#212529;border-radius:3px;padding:10px}.project_list-module--image_wrapper--dFZqW{position:relative}.project_list-module--image_wrapper--dFZqW img{width:100%}.project_list-module--overlay--XYwST{align-items:center;background-color:rgba(33,37,41,.98);bottom:0;display:flex;height:50px;justify-content:space-between;left:0;position:absolute;width:100%}.project_list-module--image--sF6qu{aspect-ratio:16/9}.project_list-module--heading--WtmWI{font-size:30px;margin-left:15px;margin-right:5px}.project_list-module--languages--C854W{display:flex}.project_list-module--language_icon--XgM-W{font-size:35px;margin-right:.5em}.project_list-module--text--JYNq1{font-size:18px;height:50px}.project_list-module--text--JYNq1 p{line-height:25px;vertical-align:middle}.project_list-module--content--X4RCX hr{border-color:orange;margin:5px -5px 10px;transition:border-color .3s}@media(max-width:1000px){.project_list-module--project--s09uQ{width:var(--half-width)}}@media(max-width:800px){.project_list-module--project--s09uQ{width:var(--quarter-width)}.project_list-module--text--JYNq1{height:auto}}.hover_icon-module--icon_wrapper--mHsqS{height:1em;position:relative;width:1em}.hover_icon-module--icon--MuKp9{height:100%;opacity:0;transition:opacity .3s;width:100%}.hover_icon-module--icon_mono--0p7cT{background:#fff;height:100%;left:0;mask-position:center;-webkit-mask-position:center;mask-repeat:no-repeat;-webkit-mask-repeat:no-repeat;mask-size:contain;-webkit-mask-size:contain;opacity:100%;position:absolute;top:0;transition:opacity .3s;width:100%}.hover_icon-module--icon_wrapper--mHsqS:hover .hover_icon-module--icon--MuKp9{opacity:100%}.hover_icon-module--icon_wrapper--mHsqS:hover .hover_icon-module--icon_mono--0p7cT{opacity:0}.article_list-module--article--xkASR{background-color:#212529;border-radius:3px;display:block;margin-bottom:16px;padding:10px;width:100%}.article_list-module--article--xkASR:after{clear:both;content:"";display:table}.article_list-module--image--Bl6T5{float:left;width:30%}.article_list-module--body--PiDw-{float:left;padding-left:16px;width:70%}@media(max-width:1000px){.article_list-module--image--Bl6T5{margin-bottom:8px;width:100%}.article_list-module--body--PiDw-{padding-left:0;width:100%}}.article_list-module--heading--pChY\+{font-size:30px}.article_list-module--article--xkASR p{line-height:1.3em;margin-bottom:16px}.article_list-module--article--xkASR p:last-of-type{margin-bottom:0}.article_list-module--article--xkASR hr{border-color:orange;margin:5px -5px 10px;transition:border-color .3s}.article_list-module--article--xkASR:hover hr{border-color:#31afd4}.home-module--container--aj9vI:after{clear:both;content:"";display:table}.home-module--first_con--LiZMI{float:left;width:80%}.home-module--second_con---RAfQ{float:left;margin-top:8px;padding-top:8px;text-align:right;width:20%}.home-module--articles--ysNI6,.home-module--projects---l-zE{margin-bottom:8px}.home-module--languages--TqOl1{background-color:#212529;border-radius:3px;display:inline-block;margin-left:16px;margin-top:-16px}.home-module--languages--TqOl1:after{clear:both;content:"";display:table}.home-module--language---W-Zl{float:left;font-size:15vh;text-align:center;width:100%}.home-module--icon---JXD8{display:inline-block}.home-module--language---W-Zl h2{font-size:35px;margin-bottom:20px;margin-top:10px}@media(max-width:800px){.home-module--first_con--LiZMI{width:100%}.home-module--second_con---RAfQ{padding-left:0;text-align:center;width:100%}.home-module--languages--TqOl1{margin-left:0;margin-top:16px;width:100%}}.sub_heading-module--sub_heading--V8zde{background-color:#343a40;border-radius:3px;display:inline-block;padding:9px 7px;width:100%}.sub_heading-module--sub_heading--V8zde h1{font-size:40px;padding:0 7px;word-break:break-word}.sub_heading-module--sub_heading--V8zde hr{border-color:#fff;margin-bottom:10px;margin-top:10px}.privacy-module--privacy--6Eonf p{margin-bottom:10px;margin-top:10px}.privacy-module--privacy--6Eonf h1{font-size:40px;margin-bottom:10px;margin-top:20px}.rocket-module--container--Nb0mO{margin:8px auto;max-width:1000px}.rocket-module--container--Nb0mO:after{clear:both;content:"";display:table}.rocket-module--left--I5ZuO,.rocket-module--right--bEekK{background:#212529;border-radius:3px;clear:both;display:inline-block;margin:8px;max-width:80%;padding:10px 16px}.rocket-module--left--I5ZuO{float:right}.rocket-module--right--bEekK{float:left}.article-module--metadata--ZlRP4{margin-bottom:10px;margin-left:10px;width:100%}.article-module--metadata--ZlRP4:after{clear:both;content:"";display:table}.article-module--author--lZLsU{display:none}@media print{.article-module--metadata--ZlRP4{margin-top:5px;text-align:right}.article-module--author--lZLsU{display:inline!important}}.markdown-module--markdown_body--61IIy{border-radius:3px;padding:10px 16px;width:100%}.markdown-module--markdown_body--61IIy em{font-style:italic}.markdown-module--markdown_body--61IIy{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;word-wrap:break-word;background-color:#0d1117;color:#c9d1d9;color-scheme:dark;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji;font-size:16px;line-height:1.5;margin:0}.markdown-module--markdown_body--61IIy h1:hover .markdown-module--anchor--wyfv7 .markdown-module--octicon-link--3DlHs:before,.markdown-module--markdown_body--61IIy h2:hover .markdown-module--anchor--wyfv7 .markdown-module--octicon-link--3DlHs:before,.markdown-module--markdown_body--61IIy h3:hover .markdown-module--anchor--wyfv7 .markdown-module--octicon-link--3DlHs:before,.markdown-module--markdown_body--61IIy h4:hover .markdown-module--anchor--wyfv7 .markdown-module--octicon-link--3DlHs:before,.markdown-module--markdown_body--61IIy h5:hover .markdown-module--anchor--wyfv7 .markdown-module--octicon-link--3DlHs:before,.markdown-module--markdown_body--61IIy h6:hover .markdown-module--anchor--wyfv7 .markdown-module--octicon-link--3DlHs:before{background-color:currentColor;content:" ";display:inline-block;height:16px;-webkit-mask-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 0 0 1.06 1.06l1.25-1.25a2 2 0 1 1 2.83 2.83l-2.5 2.5a2 2 0 0 1-2.83 0 .75.75 0 0 0-1.06 1.06 3.5 3.5 0 0 0 4.95 0l2.5-2.5a3.5 3.5 0 0 0-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 0 1 0-2.83l2.5-2.5a2 2 0 0 1 2.83 0 .75.75 0 0 0 1.06-1.06 3.5 3.5 0 0 0-4.95 0l-2.5 2.5a3.5 3.5 0 0 0 4.95 4.95l1.25-1.25a.75.75 0 0 0-1.06-1.06l-1.25 1.25a2 2 0 0 1-2.83 0z"/></svg>');mask-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 0 0 1.06 1.06l1.25-1.25a2 2 0 1 1 2.83 2.83l-2.5 2.5a2 2 0 0 1-2.83 0 .75.75 0 0 0-1.06 1.06 3.5 3.5 0 0 0 4.95 0l2.5-2.5a3.5 3.5 0 0 0-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 0 1 0-2.83l2.5-2.5a2 2 0 0 1 2.83 0 .75.75 0 0 0 1.06-1.06 3.5 3.5 0 0 0-4.95 0l-2.5 2.5a3.5 3.5 0 0 0 4.95 4.95l1.25-1.25a.75.75 0 0 0-1.06-1.06l-1.25 1.25a2 2 0 0 1-2.83 0z"/></svg>');width:16px}.markdown-module--markdown_body--61IIy details,.markdown-module--markdown_body--61IIy figcaption,.markdown-module--markdown_body--61IIy figure{display:block}.markdown-module--markdown_body--61IIy summary{display:list-item}.markdown-module--markdown_body--61IIy [hidden]{display:none!important}.markdown-module--markdown_body--61IIy a{background-color:transparent;color:#58a6ff;text-decoration:none}.markdown-module--markdown_body--61IIy a:active,.markdown-module--markdown_body--61IIy a:hover{outline-width:0}.markdown-module--markdown_body--61IIy abbr[title]{border-bottom:none;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}.markdown-module--markdown_body--61IIy b,.markdown-module--markdown_body--61IIy strong{font-weight:600}.markdown-module--markdown_body--61IIy dfn{font-style:italic}.markdown-module--markdown_body--61IIy h1{border-bottom:1px solid #21262d;font-size:2em;font-weight:600;margin:.67em 0;padding-bottom:.3em}.markdown-module--markdown_body--61IIy mark{background-color:rgba(187,128,9,.15);color:#c9d1d9}.markdown-module--markdown_body--61IIy small{font-size:90%}.markdown-module--markdown_body--61IIy sub,.markdown-module--markdown_body--61IIy sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}.markdown-module--markdown_body--61IIy sub{bottom:-.25em}.markdown-module--markdown_body--61IIy sup{top:-.5em}.markdown-module--markdown_body--61IIy code,.markdown-module--markdown_body--61IIy kbd,.markdown-module--markdown_body--61IIy pre,.markdown-module--markdown_body--61IIy samp{font-family:monospace,monospace;font-size:1em}.markdown-module--markdown_body--61IIy figure{margin:1em 40px}.markdown-module--markdown_body--61IIy hr{background:transparent;background-color:#30363d;border:0;box-sizing:content-box;height:.25em;margin:24px 0;overflow:hidden;padding:0}.markdown-module--markdown_body--61IIy input{font:inherit;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible}.markdown-module--markdown_body--61IIy [type=button],.markdown-module--markdown_body--61IIy [type=reset],.markdown-module--markdown_body--61IIy [type=submit]{-webkit-appearance:button}.markdown-module--markdown_body--61IIy [type=button]::-moz-focus-inner,.markdown-module--markdown_body--61IIy [type=reset]::-moz-focus-inner,.markdown-module--markdown_body--61IIy [type=submit]::-moz-focus-inner{border-style:none;padding:0}.markdown-module--markdown_body--61IIy [type=button]:-moz-focusring,.markdown-module--markdown_body--61IIy [type=reset]:-moz-focusring,.markdown-module--markdown_body--61IIy [type=submit]:-moz-focusring{outline:1px dotted ButtonText}.markdown-module--markdown_body--61IIy [type=checkbox],.markdown-module--markdown_body--61IIy [type=radio]{box-sizing:border-box;padding:0}.markdown-module--markdown_body--61IIy [type=number]::-webkit-inner-spin-button,.markdown-module--markdown_body--61IIy [type=number]::-webkit-outer-spin-button{height:auto}.markdown-module--markdown_body--61IIy [type=search]{-webkit-appearance:textfield;outline-offset:-2px}.markdown-module--markdown_body--61IIy [type=search]::-webkit-search-cancel-button,.markdown-module--markdown_body--61IIy [type=search]::-webkit-search-decoration{-webkit-appearance:none}.markdown-module--markdown_body--61IIy ::-webkit-input-placeholder{color:inherit;opacity:.54}.markdown-module--markdown_body--61IIy ::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}.markdown-module--markdown_body--61IIy a:hover{text-decoration:underline}.markdown-module--markdown_body--61IIy hr:before{content:"";display:table}.markdown-module--markdown_body--61IIy hr:after{clear:both;content:"";display:table}.markdown-module--markdown_body--61IIy table{border-collapse:collapse;border-spacing:0;display:block;max-width:100%;overflow:auto;width:-webkit-max-content;width:max-content}.markdown-module--markdown_body--61IIy td,.markdown-module--markdown_body--61IIy th{padding:0}.markdown-module--markdown_body--61IIy details summary{cursor:pointer}.markdown-module--markdown_body--61IIy details:not([open])>:not(summary){display:none!important}.markdown-module--markdown_body--61IIy kbd{background-color:#161b22;border:1px solid hsla(215,8%,47%,.4);border-radius:6px;box-shadow:inset 0 -1px 0 hsla(215,8%,47%,.4);color:#c9d1d9;display:inline-block;font:11px ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace;line-height:10px;padding:3px 5px;vertical-align:middle}.markdown-module--markdown_body--61IIy h1,.markdown-module--markdown_body--61IIy h2,.markdown-module--markdown_body--61IIy h3,.markdown-module--markdown_body--61IIy h4,.markdown-module--markdown_body--61IIy h5,.markdown-module--markdown_body--61IIy h6{font-weight:600;line-height:1.25;margin-bottom:16px;margin-top:24px}.markdown-module--markdown_body--61IIy h2{border-bottom:1px solid #21262d;font-size:1.5em;font-weight:600;padding-bottom:.3em}.markdown-module--markdown_body--61IIy h3{font-size:1.25em;font-weight:600}.markdown-module--markdown_body--61IIy h4{font-size:1em;font-weight:600}.markdown-module--markdown_body--61IIy h5{font-size:.875em;font-weight:600}.markdown-module--markdown_body--61IIy h6{color:#8b949e;font-size:.85em;font-weight:600}.markdown-module--markdown_body--61IIy p{margin-bottom:10px;margin-top:0}.markdown-module--markdown_body--61IIy blockquote{border-left:.25em solid #30363d;color:#8b949e;margin:0;padding:0 1em}.markdown-module--markdown_body--61IIy ol,.markdown-module--markdown_body--61IIy ul{margin-bottom:0;margin-top:0;padding-left:2em}.markdown-module--markdown_body--61IIy ol ol,.markdown-module--markdown_body--61IIy ul ol{list-style-type:lower-roman}.markdown-module--markdown_body--61IIy ol ol ol,.markdown-module--markdown_body--61IIy ol ul ol,.markdown-module--markdown_body--61IIy ul ol ol,.markdown-module--markdown_body--61IIy ul ul ol{list-style-type:lower-alpha}.markdown-module--markdown_body--61IIy dd{margin-left:0}.markdown-module--markdown_body--61IIy code,.markdown-module--markdown_body--61IIy pre,.markdown-module--markdown_body--61IIy tt{font-family:ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace;font-size:12px}.markdown-module--markdown_body--61IIy pre{word-wrap:normal;margin-bottom:0;margin-top:0}.markdown-module--markdown_body--61IIy .markdown-module--octicon--ePFI3{fill:currentColor;display:inline-block;overflow:visible!important;vertical-align:text-bottom}.markdown-module--markdown_body--61IIy ::-webkit-input-placeholder{color:#484f58;opacity:1}.markdown-module--markdown_body--61IIy :-ms-input-placeholder{color:#484f58;opacity:1}.markdown-module--markdown_body--61IIy ::placeholder{color:#484f58;opacity:1}.markdown-module--markdown_body--61IIy input::-webkit-inner-spin-button,.markdown-module--markdown_body--61IIy input::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}.markdown-module--markdown_body--61IIy .markdown-module--pl-c--kOtpj{color:#8b949e}.markdown-module--markdown_body--61IIy .markdown-module--pl-c1--shalW,.markdown-module--markdown_body--61IIy .markdown-module--pl-s--AOBTh .markdown-module--pl-v--pPQD3{color:#79c0ff}.markdown-module--markdown_body--61IIy .markdown-module--pl-e--fpqvL,.markdown-module--markdown_body--61IIy .markdown-module--pl-en--e9yz0{color:#d2a8ff}.markdown-module--markdown_body--61IIy .markdown-module--pl-s--AOBTh .markdown-module--pl-s1--LVVHd,.markdown-module--markdown_body--61IIy .markdown-module--pl-smi--zqWYH{color:#c9d1d9}.markdown-module--markdown_body--61IIy .markdown-module--pl-ent--BmKcy{color:#7ee787}.markdown-module--markdown_body--61IIy .markdown-module--pl-k--at3uJ{color:#ff7b72}.markdown-module--markdown_body--61IIy .markdown-module--pl-pds--0yuPX,.markdown-module--markdown_body--61IIy .markdown-module--pl-s--AOBTh,.markdown-module--markdown_body--61IIy .markdown-module--pl-s--AOBTh .markdown-module--pl-pse--QG5nd .markdown-module--pl-s1--LVVHd,.markdown-module--markdown_body--61IIy .markdown-module--pl-sr--k-Yhg,.markdown-module--markdown_body--61IIy .markdown-module--pl-sr--k-Yhg .markdown-module--pl-cce--xGAFc,.markdown-module--markdown_body--61IIy .markdown-module--pl-sr--k-Yhg .markdown-module--pl-sra--LTTtp,.markdown-module--markdown_body--61IIy .markdown-module--pl-sr--k-Yhg .markdown-module--pl-sre--DeRf6{color:#a5d6ff}.markdown-module--markdown_body--61IIy .markdown-module--pl-smw--aaWnH,.markdown-module--markdown_body--61IIy .markdown-module--pl-v--pPQD3{color:#ffa657}.markdown-module--markdown_body--61IIy .markdown-module--pl-bu--dmK6C{color:#f85149}.markdown-module--markdown_body--61IIy .markdown-module--pl-ii--gtzwi{background-color:#8e1519;color:#f0f6fc}.markdown-module--markdown_body--61IIy .markdown-module--pl-c2--aobQQ{background-color:#b62324;color:#f0f6fc}.markdown-module--markdown_body--61IIy .markdown-module--pl-sr--k-Yhg .markdown-module--pl-cce--xGAFc{color:#7ee787;font-weight:700}.markdown-module--markdown_body--61IIy .markdown-module--pl-ml--qJZQx{color:#f2cc60}.markdown-module--markdown_body--61IIy .markdown-module--pl-mh--AWeMy,.markdown-module--markdown_body--61IIy .markdown-module--pl-mh--AWeMy .markdown-module--pl-en--e9yz0,.markdown-module--markdown_body--61IIy .markdown-module--pl-ms--8zgWF{color:#1f6feb;font-weight:700}.markdown-module--markdown_body--61IIy .markdown-module--pl-mi--\+oM5W{color:#c9d1d9;font-style:italic}.markdown-module--markdown_body--61IIy .markdown-module--pl-mb--h1cwX{color:#c9d1d9;font-weight:700}.markdown-module--markdown_body--61IIy .markdown-module--pl-md--4KHg0{background-color:#67060c;color:#ffdcd7}.markdown-module--markdown_body--61IIy .markdown-module--pl-mi1--\+PspH{background-color:#033a16;color:#aff5b4}.markdown-module--markdown_body--61IIy .markdown-module--pl-mc--xtStT{background-color:#5a1e02;color:#ffdfb6}.markdown-module--markdown_body--61IIy .markdown-module--pl-mi2--VIumQ{background-color:#1158c7;color:#c9d1d9}.markdown-module--markdown_body--61IIy .markdown-module--pl-mdr--wOQda{color:#d2a8ff;font-weight:700}.markdown-module--markdown_body--61IIy .markdown-module--pl-ba--jOItn{color:#8b949e}.markdown-module--markdown_body--61IIy .markdown-module--pl-sg--JAV0\+{color:#484f58}.markdown-module--markdown_body--61IIy .markdown-module--pl-corl--PGQq7{color:#a5d6ff;text-decoration:underline}.markdown-module--markdown_body--61IIy [data-catalyst]{display:block}.markdown-module--markdown_body--61IIy g-emoji{font-family:Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol;font-size:1em;font-style:normal!important;font-weight:400;line-height:1;vertical-align:-.075em}.markdown-module--markdown_body--61IIy g-emoji img{height:1em;width:1em}.markdown-module--markdown_body--61IIy:before{content:"";display:table}.markdown-module--markdown_body--61IIy:after{clear:both;content:"";display:table}.markdown-module--markdown_body--61IIy>:first-child{margin-top:0!important}.markdown-module--markdown_body--61IIy>:last-child{margin-bottom:0!important}.markdown-module--markdown_body--61IIy a:not([href]){color:inherit;text-decoration:none}.markdown-module--markdown_body--61IIy .markdown-module--absent--EF0mn{color:#f85149}.markdown-module--markdown_body--61IIy .markdown-module--anchor--wyfv7{float:left;line-height:1;margin-left:-20px;padding-right:4px}.markdown-module--markdown_body--61IIy .markdown-module--anchor--wyfv7:focus{outline:none}.markdown-module--markdown_body--61IIy blockquote,.markdown-module--markdown_body--61IIy details,.markdown-module--markdown_body--61IIy dl,.markdown-module--markdown_body--61IIy ol,.markdown-module--markdown_body--61IIy p,.markdown-module--markdown_body--61IIy pre,.markdown-module--markdown_body--61IIy table,.markdown-module--markdown_body--61IIy ul{margin-bottom:16px;margin-top:0}.markdown-module--markdown_body--61IIy blockquote>:first-child{margin-top:0}.markdown-module--markdown_body--61IIy blockquote>:last-child{margin-bottom:0}.markdown-module--markdown_body--61IIy sup>a:before{content:"["}.markdown-module--markdown_body--61IIy sup>a:after{content:"]"}.markdown-module--markdown_body--61IIy h1 .markdown-module--octicon-link--3DlHs,.markdown-module--markdown_body--61IIy h2 .markdown-module--octicon-link--3DlHs,.markdown-module--markdown_body--61IIy h3 .markdown-module--octicon-link--3DlHs,.markdown-module--markdown_body--61IIy h4 .markdown-module--octicon-link--3DlHs,.markdown-module--markdown_body--61IIy h5 .markdown-module--octicon-link--3DlHs,.markdown-module--markdown_body--61IIy h6 .markdown-module--octicon-link--3DlHs{color:#c9d1d9;vertical-align:middle;visibility:hidden}.markdown-module--markdown_body--61IIy h1:hover .markdown-module--anchor--wyfv7,.markdown-module--markdown_body--61IIy h2:hover .markdown-module--anchor--wyfv7,.markdown-module--markdown_body--61IIy h3:hover .markdown-module--anchor--wyfv7,.markdown-module--markdown_body--61IIy h4:hover .markdown-module--anchor--wyfv7,.markdown-module--markdown_body--61IIy h5:hover .markdown-module--anchor--wyfv7,.markdown-module--markdown_body--61IIy h6:hover .markdown-module--anchor--wyfv7{text-decoration:none}.markdown-module--markdown_body--61IIy h1:hover .markdown-module--anchor--wyfv7 .markdown-module--octicon-link--3DlHs,.markdown-module--markdown_body--61IIy h2:hover .markdown-module--anchor--wyfv7 .markdown-module--octicon-link--3DlHs,.markdown-module--markdown_body--61IIy h3:hover .markdown-module--anchor--wyfv7 .markdown-module--octicon-link--3DlHs,.markdown-module--markdown_body--61IIy h4:hover .markdown-module--anchor--wyfv7 .markdown-module--octicon-link--3DlHs,.markdown-module--markdown_body--61IIy h5:hover .markdown-module--anchor--wyfv7 .markdown-module--octicon-link--3DlHs,.markdown-module--markdown_body--61IIy h6:hover .markdown-module--anchor--wyfv7 .markdown-module--octicon-link--3DlHs{visibility:visible}.markdown-module--markdown_body--61IIy h1 code,.markdown-module--markdown_body--61IIy h1 tt,.markdown-module--markdown_body--61IIy h2 code,.markdown-module--markdown_body--61IIy h2 tt,.markdown-module--markdown_body--61IIy h3 code,.markdown-module--markdown_body--61IIy h3 tt,.markdown-module--markdown_body--61IIy h4 code,.markdown-module--markdown_body--61IIy h4 tt,.markdown-module--markdown_body--61IIy h5 code,.markdown-module--markdown_body--61IIy h5 tt,.markdown-module--markdown_body--61IIy h6 code,.markdown-module--markdown_body--61IIy h6 tt{font-size:inherit;padding:0 .2em}.markdown-module--markdown_body--61IIy ol.markdown-module--no-list--Wypms,.markdown-module--markdown_body--61IIy ul.markdown-module--no-list--Wypms{list-style-type:none;padding:0}.markdown-module--markdown_body--61IIy ol[type="1"]{list-style-type:decimal}.markdown-module--markdown_body--61IIy ol[type=a]{list-style-type:lower-alpha}.markdown-module--markdown_body--61IIy ol[type=i]{list-style-type:lower-roman}.markdown-module--markdown_body--61IIy div>ol:not([type]){list-style-type:decimal}.markdown-module--markdown_body--61IIy ol ol,.markdown-module--markdown_body--61IIy ol ul,.markdown-module--markdown_body--61IIy ul ol,.markdown-module--markdown_body--61IIy ul ul{margin-bottom:0;margin-top:0}.markdown-module--markdown_body--61IIy li>p{margin-top:16px}.markdown-module--markdown_body--61IIy li+li{margin-top:.25em}.markdown-module--markdown_body--61IIy dl{padding:0}.markdown-module--markdown_body--61IIy dl dt{font-size:1em;font-style:italic;font-weight:600;margin-top:16px;padding:0}.markdown-module--markdown_body--61IIy dl dd{margin-bottom:16px;padding:0 16px}.markdown-module--markdown_body--61IIy table th{font-weight:600}.markdown-module--markdown_body--61IIy table td,.markdown-module--markdown_body--61IIy table th{border:1px solid #30363d;padding:6px 13px}.markdown-module--markdown_body--61IIy table tr{background-color:#0d1117;border-top:1px solid #21262d}.markdown-module--markdown_body--61IIy table tr:nth-child(2n){background-color:#161b22}.markdown-module--markdown_body--61IIy table img{background-color:transparent}.markdown-module--markdown_body--61IIy img[align=right]{padding-left:20px}.markdown-module--markdown_body--61IIy img[align=left]{padding-right:20px}.markdown-module--markdown_body--61IIy .markdown-module--emoji--cQeUW{background-color:transparent;max-width:none;vertical-align:text-top}.markdown-module--markdown_body--61IIy span.markdown-module--frame--PbrxK{display:block;overflow:hidden}.markdown-module--markdown_body--61IIy span.markdown-module--frame--PbrxK>span{border:1px solid #30363d;display:block;float:left;margin:13px 0 0;overflow:hidden;padding:7px;width:auto}.markdown-module--markdown_body--61IIy span.markdown-module--frame--PbrxK span img{display:block;float:left}.markdown-module--markdown_body--61IIy span.markdown-module--frame--PbrxK span span{clear:both;color:#c9d1d9;display:block;padding:5px 0 0}.markdown-module--markdown_body--61IIy span.markdown-module--align-center--8nWUM{clear:both;display:block;overflow:hidden}.markdown-module--markdown_body--61IIy span.markdown-module--align-center--8nWUM>span{display:block;margin:13px auto 0;overflow:hidden;text-align:center}.markdown-module--markdown_body--61IIy span.markdown-module--align-center--8nWUM span img{margin:0 auto;text-align:center}.markdown-module--markdown_body--61IIy span.markdown-module--align-right--SZ5Bn{clear:both;display:block;overflow:hidden}.markdown-module--markdown_body--61IIy span.markdown-module--align-right--SZ5Bn>span{display:block;margin:13px 0 0;overflow:hidden;text-align:right}.markdown-module--markdown_body--61IIy span.markdown-module--align-right--SZ5Bn span img{margin:0;text-align:right}.markdown-module--markdown_body--61IIy span.markdown-module--float-left--HeE3t{display:block;float:left;margin-right:13px;overflow:hidden}.markdown-module--markdown_body--61IIy span.markdown-module--float-left--HeE3t span{margin:13px 0 0}.markdown-module--markdown_body--61IIy span.markdown-module--float-right--zcdNJ{display:block;float:right;margin-left:13px;overflow:hidden}.markdown-module--markdown_body--61IIy span.markdown-module--float-right--zcdNJ>span{display:block;margin:13px auto 0;overflow:hidden;text-align:right}.markdown-module--markdown_body--61IIy code,.markdown-module--markdown_body--61IIy tt{background-color:hsla(215,8%,47%,.4);border-radius:6px;font-size:85%;margin:0;padding:.2em .4em}.markdown-module--markdown_body--61IIy code br,.markdown-module--markdown_body--61IIy tt br{display:none}.markdown-module--markdown_body--61IIy del code{text-decoration:inherit}.markdown-module--markdown_body--61IIy pre code{font-size:100%}.markdown-module--markdown_body--61IIy pre>code{background:transparent;border:0;margin:0;padding:0;white-space:pre;word-break:normal}.markdown-module--markdown_body--61IIy .markdown-module--highlight--FlVrb{margin-bottom:16px}.markdown-module--markdown_body--61IIy .markdown-module--highlight--FlVrb pre{margin-bottom:0;word-break:normal}.markdown-module--markdown_body--61IIy .markdown-module--highlight--FlVrb pre,.markdown-module--markdown_body--61IIy pre{background-color:#161b22;border-radius:6px;font-size:85%;line-height:1.45;overflow:auto;padding:16px}.markdown-module--markdown_body--61IIy pre code,.markdown-module--markdown_body--61IIy pre tt{word-wrap:normal;background-color:transparent;border:0;display:inline;line-height:inherit;margin:0;max-width:auto;overflow:visible;padding:0}.markdown-module--markdown_body--61IIy .markdown-module--csv-data--bAGoQ td,.markdown-module--markdown_body--61IIy .markdown-module--csv-data--bAGoQ th{font-size:12px;line-height:1;overflow:hidden;padding:5px;text-align:left;white-space:nowrap}.markdown-module--markdown_body--61IIy .markdown-module--csv-data--bAGoQ .markdown-module--blob-num--2POng{background:#0d1117;border:0;padding:10px 8px 9px;text-align:right}.markdown-module--markdown_body--61IIy .markdown-module--csv-data--bAGoQ tr{border-top:0}.markdown-module--markdown_body--61IIy .markdown-module--csv-data--bAGoQ th{background:#161b22;border-top:0;font-weight:600}.markdown-module--markdown_body--61IIy .markdown-module--footnotes--D3js0{border-top:1px solid #30363d;color:#8b949e;font-size:12px}.markdown-module--markdown_body--61IIy .markdown-module--footnotes--D3js0 ol{padding-left:16px}.markdown-module--markdown_body--61IIy .markdown-module--footnotes--D3js0 li{position:relative}.markdown-module--markdown_body--61IIy .markdown-module--footnotes--D3js0 li:target:before{border:2px solid #1f6feb;border-radius:6px;bottom:-8px;content:"";left:-24px;pointer-events:none;position:absolute;right:-8px;top:-8px}.markdown-module--markdown_body--61IIy .markdown-module--footnotes--D3js0 li:target{color:#c9d1d9}.markdown-module--markdown_body--61IIy .markdown-module--footnotes--D3js0 .markdown-module--data-footnote-backref--iL-c0 g-emoji{font-family:monospace}.markdown-module--markdown_body--61IIy .markdown-module--task-list-item--ZlN-C{list-style-type:none}.markdown-module--markdown_body--61IIy .markdown-module--task-list-item--ZlN-C label{font-weight:400}.markdown-module--markdown_body--61IIy .markdown-module--task-list-item--ZlN-C.markdown-module--enabled--PtfAf label{cursor:pointer}.markdown-module--markdown_body--61IIy .markdown-module--task-list-item--ZlN-C+.markdown-module--task-list-item--ZlN-C{margin-top:3px}.markdown-module--markdown_body--61IIy .markdown-module--task-list-item--ZlN-C .markdown-module--handle--z79Xh{display:none}.markdown-module--markdown_body--61IIy .markdown-module--task-list-item-checkbox--L6e93{margin:0 .2em .25em -1.6em;vertical-align:middle}.markdown-module--markdown_body--61IIy .markdown-module--contains-task-list--lLont:dir(rtl) .markdown-module--task-list-item-checkbox--L6e93{margin:0 -1.6em .25em .2em}.markdown-module--markdown_body--61IIy ::-webkit-calendar-picker-indicator{-webkit-filter:invert(50%);filter:invert(50%)}</style><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){if(void 0===e.target.dataset.mainImage)return;if(void 0===e.target.dataset.gatsbyImageSsr)return;const t=e.target;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><title data-react-helmet="true">Maki, Atoms and Time Travel—Christopher Besch</title><link data-react-helmet="true" rel="canonical" href="https://chris-besch.com/articles/maki_atoms_and_time_travel"/><link data-react-helmet="true" rel="shortcut icon" href="/favicon.png"/><link data-react-helmet="true" rel="preload" href="/fonts/LiberationSans-Regular-webfont.woff" as="font" type="font/woff" crossorigin="anonymous"/><link as="script" rel="preload" href="/webpack-runtime-8f9963441216a4d2291c.js"/><link as="script" rel="preload" href="/framework-1a88f0df97e9df2beedb.js"/><link as="script" rel="preload" href="/app-d7d949e8ddefe7cc1c26.js"/><link as="script" rel="preload" href="/commons-20e220f6f7b8d4dfa840.js"/><link as="script" rel="preload" href="/component---src-templates-article-tsx-8eedb1c0c163f96cfb8f.js"/><link as="fetch" rel="preload" href="/page-data/articles/maki_atoms_and_time_travel/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/1889143113.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/2000472239.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div><nav class="layout-module--nav--ma0SR"><div class="layout-module--logo--9Ozid"><h1>Christopher Besch</h1><h2>Software Developer</h2></div><div><input type="checkbox" id="nav_toggle"/><label for="nav_toggle" class="layout-module--hamburger--h7E0E">☰</label><ul class="layout-module--nav_menu--uoKLm"><li><a href="/">Home</a></li><li><a href="/projects">Projects</a></li><li><a href="/articles">Articles</a></li><li><a href="/about">About</a></li></ul></div></nav><div class="layout-module--content--u4In+"><div class="heading-module--heading--2iUAG undefined"><h1>Maki, Atoms and Time Travel<!-- --></h1><span class="heading-module--sub_heading---FgTH"></span><hr/></div><div class="article-module--metadata--ZlRP4"><span class="article-module--author--lZLsU">Written by Christopher Besch, published on </span>Sunday, February 6, 2022<!-- --></div><div class="markdown-module--markdown_body--61IIy"><p>To create animations for technical concepts, one is advised to use graphics software with a programmatic approach.
While these provide the required precision, they suffer from an inherent disconnect between input and output.
WYSIWYG programs avoid this detachment with interactivity at the cost of precision.</p><p>The purpose of this article is to outline how a program for interactive and programmatic animation development can be implemented.
To experiment with different technologies and programming paradigms, I created a developmental implementation called Maki.
This article outlines Maki&#x27;s design decisions and discusses planned future development.</p><h3 id="table-of-contents" style="position:relative">Table of Contents<!-- --><a href="#table-of-contents" aria-label="table of contents permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h3><div class="half_element-module--wrapper--moV5-"><div class="half_element-module--before--6ITLy"></div><div class="half_element-module--element--DCuyc"><video class="video-module--video--iIx8z" controls="" loop="" muted="" autoplay="" poster="/static/full_showcase_01_poster-d3edfe3a8b3656d713a6ee2f8217efba.png" width="1920" height="1080"><source src="/static/full_showcase_01-a8e963e4566aa887bcc8e9b03e75c78b.mp4" type="video/mp4"/></video></div><div class="half_element-module--after--1comw"></div></div><div class="toc"><ul><li><a href="#maki">Maki</a><ul><li><a href="#walkthrough">Walkthrough</a></li></ul></li><li><a href="#clear-ownership">Clear Ownership</a></li><li><a href="#renderer-abstraction">Renderer Abstraction</a></li><li><a href="#multi-threading">Multi Threading</a></li><li><a href="#atoms">Atoms</a><ul><li><a href="#difference-array">Difference Array</a></li><li><a href="#atom-chain">Atom Chain</a></li><li><a href="#chrono-syncs">Chrono Syncs</a></li></ul></li><li><a href="#templates">Templates</a><ul><li><a href="#templated-memory">Templated Memory</a></li><li><a href="#rendering-atoms">Rendering Atoms</a></li><li><a href="#why-templates">Why Templates?</a></li></ul></li><li><a href="#path-of-an-atom">Path of an Atom</a></li><li><a href="#conclusion-and-future-plans">Conclusion and Future Plans</a></li><li><a href="#appendix">Appendix</a></li></ul></div><h1 id="maki" style="position:relative">Maki<!-- --><a href="#maki" aria-label="maki permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h1><ul><li><strong>Extensibility</strong>,<!-- --></li><li><strong>performance</strong>,<!-- --></li><li><strong>ease of use</strong>,<!-- --></li><li><strong>strict type and thread safety</strong>,<!-- --></li><li><strong>clear ownership</strong> and the<!-- --></li><li><strong>fear of loosing (type) information</strong> form Maki&#x27;s main ideals.<!-- --></li></ul><p>I chose C++ because it enforces <!-- --><strong>strict rules</strong> and offers handy containers, algorithms and many light-weight abstractions, aiding in the development of a complex system, without compromising on <!-- --><strong>performance</strong>.<!-- --></p><p>The goal of <!-- --><a href="https://github.com/christopher-besch/maki">Maki</a> is to allow the user to create 3D animations using Python;
while the user is constructing their animation in an interactive shell, Maki shows the current status of the scene in a separate window.
Here the user is able to freely move the camera.
In addition to spacial movement, Maki provides the ability to <!-- --><em>jump in time</em>;
The user can decide which frame of the animation should be played.<!-- --></p><p>This allows an <!-- --><strong>easy to use</strong> workflow, minimizing the time between defining animations and playing with the results.<!-- --></p><h2 id="walkthrough" style="position:relative">Walkthrough<!-- --><a href="#walkthrough" aria-label="walkthrough permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h2><div class="half_element-module--wrapper--moV5-"><div class="half_element-module--before--6ITLy"></div><div class="half_element-module--element--DCuyc"><p class="video-module--removed_warn--qVTBl">[video removed from print]</p><video class="video-module--video_no_print--gSNum" controls="" loop="" muted="" autoplay="" width="1920" height="1080"><source src="/static/01_init-812acc10c9b0d614279e0a7a1354d48a.mp4" type="video/mp4"/></video></div><div class="half_element-module--after--1comw"></div></div><p>To start working with Maki, one has to initialize it.
This defines the rendering API to be used and creates a window of the specified size.</p><div class="half_element-module--wrapper--moV5-"><div class="half_element-module--before--6ITLy"></div><div class="half_element-module--element--DCuyc"><p class="video-module--removed_warn--qVTBl">[video removed from print]</p><video class="video-module--video_no_print--gSNum" controls="" loop="" muted="" autoplay="" width="1920" height="1080"><source src="/static/02_create_cube-19fb9f1de1ed8d050684ba85946e8727.mp4" type="video/mp4"/></video></div><div class="half_element-module--after--1comw"></div></div><p>Once that is done, you can create an atom.
This call to <!-- --><code>add_cuboid_atom</code> returns a handle to the cuboid.
But you will see...that you don&#x27;t see anything.<!-- --></p><div class="half_element-module--wrapper--moV5-"><div class="half_element-module--before--6ITLy"></div><div class="half_element-module--element--DCuyc"><p class="video-module--removed_warn--qVTBl">[video removed from print]</p><video class="video-module--video_no_print--gSNum" controls="" loop="" muted="" autoplay="" width="1920" height="1080"><source src="/static/03_show_cube-e4f4db0650d61d2b2d22e0d5caa22d2a.mp4" type="video/mp4"/></video></div><div class="half_element-module--after--1comw"></div></div><p>That&#x27;s because you&#x27;ve only created the atom;
you still have to tell Maki to actually render it.
This call to <!-- --><code>show_cuboid_atom</code> orders Maki to start showing the atom at frame <!-- --><code>1</code>.<!-- --></p><div class="half_element-module--wrapper--moV5-"><div class="half_element-module--before--6ITLy"></div><div class="half_element-module--element--DCuyc"><p class="video-module--removed_warn--qVTBl">[video removed from print]</p><video class="video-module--video_no_print--gSNum" controls="" loop="" muted="" autoplay="" width="1920" height="1080"><source src="/static/04_colouring-55ea9e2f52eec915159de15ad33888fb.mp4" type="video/mp4"/></video></div><div class="half_element-module--after--1comw"></div></div><p>We can also change the colour.
Each call again needs to know what frame it should be applied to.</p><div class="half_element-module--wrapper--moV5-"><div class="half_element-module--before--6ITLy"></div><div class="half_element-module--element--DCuyc"><p class="video-module--removed_warn--qVTBl">[video removed from print]</p><video class="video-module--video_no_print--gSNum" controls="" loop="" muted="" autoplay="" width="1920" height="1080"><source src="/static/05_translate_cube-b2527e81cb03627a7ff31544fe8e0d12.mp4" type="video/mp4"/></video></div><div class="half_element-module--after--1comw"></div></div><p>Our cube can also be moved.
But Maki currently only supports instant movement—&quot;teleporting&quot; from one frame to the next.</p><div class="half_element-module--wrapper--moV5-"><div class="half_element-module--before--6ITLy"></div><div class="half_element-module--element--DCuyc"><p class="video-module--removed_warn--qVTBl">[video removed from print]</p><video class="video-module--video_no_print--gSNum" controls="" loop="" muted="" autoplay="" width="1920" height="1080"><source src="/static/06_smooth_translation-6cacf9c6d6bda6fd46ded8eb69a9f016.mp4" type="video/mp4"/></video></div><div class="half_element-module--after--1comw"></div></div><p>Smooth transitions have to be implemented on the Python side.
This quick implementation performs just that; it smoothly shifts the cube from frame <!-- --><code>60</code> to frame <!-- --><code>200</code>.<!-- --></p><div class="half_element-module--wrapper--moV5-"><div class="half_element-module--before--6ITLy"></div><div class="half_element-module--element--DCuyc"><p class="video-module--removed_warn--qVTBl">[video removed from print]</p><video class="video-module--video_no_print--gSNum" controls="" loop="" muted="" autoplay="" width="1920" height="1080"><source src="/static/07_time_travel-b239adc5ec439e2fbd7ae333383013d3.mp4" type="video/mp4"/></video></div><div class="half_element-module--after--1comw"></div></div><p>As you can see, Maki currently shows the 199th frame.
But now I&#x27;m applying another downward translation from frame <!-- --><code>5</code> to <!-- --><code>50</code>.
This downward shift lies in the past, so we expect the cube to be in a lower position in the present.
And that&#x27;s exactly what we see:
The moment the shift is being applied, Maki performs a <!-- --><a href="#chrono-sync">Chrono Sync</a> and the cube changes it&#x27;s position.
The past was altered, and we see the repercussions in the present.<!-- --></p><blockquote><center><em>&quot;<!-- -->The past was erased, the erasure was forgotten, the lie became truth.<!-- -->&quot;<!-- --></em>  —<!-- -->1984<!-- --></center></blockquote><div class="utils-module--spacer--VOmJs"></div><h1 id="clear-ownership" style="position:relative">Clear Ownership<!-- --><a href="#clear-ownership" aria-label="clear ownership permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h1><p>Shared ownership, where multiple classes own a single resource, are convenient to implement;
<!-- --><em>everything has access to everything</em>, so the optimum of possibilities has been achieved.
But those programs, in which <!-- --><em>everything owns everything</em> and <!-- --><em>everything calls everything</em> are very difficult to reason about and tend to be less performant.<!-- --></p><p>When instead every resource is owned by only one object, that object&#x27;s constructor acquires the resources and the destructor subsequently frees them.
This programming technique (called <!-- --><a href="https://en.cppreference.com/w/cpp/language/raii">RAII</a> by the C++ committee for silly names) leaves no need for any garbage collection.<!-- --></p><p>But in some situations the same resource has to be <!-- --><em>used</em> by multiple objects.
With an emphasis on <!-- --><em>used</em>;
these situations don&#x27;t necessarily warrant the use of shared ownership.
Instead the resource can be <!-- --><em>borrowed</em>.
For example, without going into detail of what these classes actually do:
A <!-- --><code>RenderDriver</code> owns a <!-- --><code>Renderer</code> and an <!-- --><code>AtomDispenser</code>.
The <!-- --><code>AtomDispenser</code> needs the <!-- --><code>Renderer</code> to perform its task, so it <!-- --><em>borrows</em> it from the <!-- --><code>RenderDriver</code>.
And because both the <!-- --><code>AtomDispenser</code> and the <!-- --><code>Renderer</code> are owned by the same <!-- --><code>RenderDriver</code>, the <!-- --><code>AtomDispenser</code> can rest assured that all its resources are (still) available.<!-- --></p><p>This member function lends the <!-- --><code>Renderer</code> to an <!-- --><code>AtomDispenser</code>:<!-- --></p><pre><code class="language-cpp">void AtomDispenser::create_all_atom_renderers(Renderer* renderer)
{
    ...
}
</code></pre><p>But not having to garbage collect isn&#x27;t the only performance advantage.
A <!-- --><strong>clear ownership model</strong> also bestows a definitive purpose on each function and object.
Objects are restricted to the resources they need to fulfill their task:
Anything they don&#x27;t need, they don&#x27;t have access to.
This reduces side-effects and consequently improves debuggability.<!-- --></p><p>Knowing in which context what data is being used, allows the programmer to optimize memory accesses for just these contexts.</p><blockquote><center><em>&quot;<!-- -->Software does not run in a magic fairy aether powered by the fever dreams of CS PhDs.<!-- -->&quot;<!-- --></em>  —<!-- -->Mike Acton<!-- --></center></blockquote><p>Software runs on hardware, hardware that has certain tastes.
So if you intend to write fast software, you should base your data layout on the silicon it&#x27;s supposed to run on.
Only because two concepts have something in common in the mental model of yours, doesn&#x27;t mean their data representation has to have anything to do with each other.
In fact they may vary wildly.
That&#x27;s why, what a concept&#x27;s implementation should be based on, is the hardware in use, not the mental model of any programmer.</p><p>Therefore a <!-- --><strong>clear ownership</strong> model is easier to reason about and the foundation for high performing software.
Memory layout will also play a major role in <!-- --><a href="#why-templates">Why Templates?</a>.<!-- --></p><h1 id="renderer-abstraction" style="position:relative">Renderer Abstraction<!-- --><a href="#renderer-abstraction" aria-label="renderer abstraction permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h1><p>Even though Maki is currently using OpenGL only, different rendering APIs (like Vulcan, Metal or DirectX) can easily be added.
To achieve this many low-lever rendering concepts are implemented using abstract classes (e.g. <!-- --><code>Shader</code>, <!-- --><code>Renderer</code> and <!-- --><code>VertexBuffer</code>).
The actual API specific implementations (e.g. <!-- --><code>OpenGLShader</code>) can be found in a subdirectory:<!-- --></p><pre><code>.
├── opengl
│   ├── opengl_buffer.cpp
│   ├── opengl_buffer.h
│   ├── opengl_renderer.cpp
│   ├── opengl_renderer.h
│   ├── ...
├── buffer.cpp
├── buffer.h
├── renderer.cpp
├── renderer.h
├── ...
</code></pre><p>The abstract classes define the static function <!-- --><code>create</code> to create an instance of the appropriate class:<!-- --></p><pre><code class="language-cpp">IndexBuffer* IndexBuffer::create(uint32_t count, const uint32_t* indices)
{
    switch(Renderer::get_renderer_impl()) {
    ...
    case Renderer::Implementation::opengl:
        return new OpenGLIndexBuffer(count, indices);
    default:
        MAKI_RAISE_CRITICAL(&quot;The requested renderer implementation is not supported.&quot;);
        return nullptr;
    }
}
</code></pre><p>The static function <!-- --><code>Renderer::set_renderer_impl</code> is used to globally define the renderer API at Maki&#x27;s boot up.<!-- --></p><p>This decision, which renderer API should be used, is performed at runtime.
That way the user can decide which implementation to use:
Even so you&#x27;re on Windows, you might want to use OpenGL instead of DirectX because you have custom shaders written in GLSL.</p><p>The situation is different for the platform, i.e. the window handling mechanism, which is selected based on the type of target system.
GLFW can be used on Linux, Windows and the MacOS;
WebAssembly might need something else.
The crucial difference to the renderer API is that the decision, which platform is to be used, can be made at compile time.
By using preprocessor statements to only compile the required platform, the switch statement can be avoided and some runtime overhead removed.</p><pre><code class="language-cpp">#if PROJECT == glfw
    GLFWwindow* m_handle {nullptr};
#endif
</code></pre><p>This macro has to be set using the <!-- --><code>-Dplatform=glfw</code> flag at compilation.<!-- --></p><p>As you can see, <!-- --><strong>extensibility</strong> lies at the heart of Maki.<!-- --></p><h1 id="multi-threading" style="position:relative">Multi Threading<!-- --><a href="#multi-threading" aria-label="multi threading permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h1><div class="half_element-module--wrapper--moV5-"><div class="half_element-module--before--6ITLy"></div><div class="half_element-module--element--DCuyc"><p class="video-module--removed_warn--qVTBl">[video removed from print]</p><video class="video-module--video_no_print--gSNum" controls="" loop="" muted="" autoplay="" width="1920" height="1080"><source src="/static/fly_around_01-b9b9be57bf4c1fa168c815c6ba915bc4.mp4" type="video/mp4"/></video></div><div class="half_element-module--after--1comw"></div></div><p>There are always two things happening concurrently:</p><ol><li>accepting new atoms or changing existing ones and</li><li>rendering the scene or handling user interaction.</li></ol><p>This is why it makes sense to use two threads, a control and a render thread.
Since OpenGL doesn&#x27;t allow multiple threads to use the same context, only the render thread is allowed to perform render calls.
The control thread on the other hand is the only one Python can directly interface with.
Consequently, data has to be safely exchanged between the two threads.
In addition to that, each thread should under no circumstances be allowed to perform actions outside of its jurisdiction.</p><p>When Maki wakes up, the first order of business is to initialize the (main) control thread, after which the render thread is to be created.
This initialization includes calling <!-- --><code>SET_THREAD_TYPE_CONTROL()</code> and <!-- --><code>SET_THREAD_TYPE_RENDER()</code> from the respective threads.
These preprocessor macros define a thread local variable.
Since each thread has it&#x27;s own thread local variables, they can be used to deduce the type of any thread.<!-- --></p><p>Every function can then be equipped with a call to <!-- --><code>MAKI_ASSERT_CTRL_THREAD()</code> or <!-- --><code>MAKI_ASSERT_RNDR_THREAD()</code>, which asserts that the correct thread is being used.
Since these checks are being removed for <!-- --><code>Release</code> mode and are only included in <!-- --><code>Debug</code> builds (which can be specified using the <!-- --><code>-DCMAKE_BUILD_TYPE=Release</code> flag) there is no runtime overhead.<!-- --></p><pre><code class="language-cpp">#ifndef NDEBUG
...
#define MAKI_ASSERT_CTRL_THREAD()                              \
    MAKI_ASSERT_CRITICAL(g_thread_type == ThreadType::control, \
                         &quot;This function can only be called from the control thread.&quot;)
#define MAKI_ASSERT_RNDR_THREAD()                             \
    MAKI_ASSERT_CRITICAL(g_thread_type == ThreadType::render, \
                         &quot;This function can only be called from the render thread.&quot;)
#else
...
// don&#x27;t do anything in release mode
#define MAKI_ASSERT_CTRL_THREAD()
#define MAKI_ASSERT_RNDR_THREAD()

#endif
</code></pre><p>To prevent race conditions (uncontrolled, concurrent access to the same resource) mutexes are being used.
These &quot;mutual exclusion objects&quot; allow the locking of a resource for the duration of its use.
In addition to this locking operation being a rather expensive one, all other threads in need of that resource are being stalled.
Therefore the use of mutexes ought to be minimized.</p><p>These two precautions, preventing the threads from running incorrect functions and accessing resources at the same time, form the basis for Maki&#x27;s <!-- --><strong>thread safety</strong>.<!-- --></p><div class="utils-module--spacer--VOmJs"></div><h1 id="atoms" style="position:relative">Atoms<!-- --><a href="#atoms" aria-label="atoms permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h1><p>Just like how real atoms were thought to be the indivisible unit of the universe, atoms are the smallest renderable unit in Maki.
A collection of them form a frame, multiple of which form an entire scene, which can be rendered to a video file.</p><p>An <!-- --><code>Atom</code> stores all the data required to render that atom.
This mainly includes vertex data, like position or colour.<!-- --></p><pre><code class="language-cpp">struct Atom {
    bool render {false};

    // to be defined by implementation:
    // static constexpr const char* type_name {&quot;Atom&quot;};
};

struct QuadrilateralAtom: public Atom {
    std::array&lt;vec3, 4&gt; ver_pos {
        vec3 {-1.0f, -1.0f, +0.0f},  // bottom left
        vec3 {+1.0f, -1.0f, +0.0f},  // bottom right
        vec3 {-1.0f, +1.0f, +0.0f},  // top    left
        vec3 {+1.0f, +1.0f, +0.0f}}; // top    right
    ...
    static constexpr const char* type_name {&quot;Quadrilateral&quot;};
};
</code></pre><p>The <!-- --><code>render</code> flag, set to <!-- --><code>false</code>, excludes the atom from the being-rendered-club.<!-- --></p><p>Because Maki allows the user to <!-- --><em>jump in time</em>, it needs to keep track of not only the current, but also any past and future frames.
The simplest way of implementing this is to store all atoms for each frame.
This results in a multitude of problems:<!-- --></p><ol><li>A huge two-dimensional array is required.
This can quickly drain all available memory or slow Maki to a crawl.</li><li>When the user changes an atom at any frame, this atom and all future incarnations thereof have to be changed.</li><li>A wait instruction, which simply leaves the scene as is, would consume as much memory as any other.
More frames always mean more memory being consumed, no matter how much is actually happening in them.</li><li>Adding a new atom means adding it to all frames.</li></ol><h2 id="difference-array" style="position:relative">Difference Array<!-- --><a href="#difference-array" aria-label="difference array permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h2><p>To solve these problems I&#x27;m using a difference array.
This difference array can be seen as the numerical derivative of the original array;
instead of storing all atoms for every frame, I&#x27;m only storing how the atoms change from frame to frame.
<!-- --><code>AtomDiff</code>s define how an atom has to be altered to cross a frame-border (from one frame to the next, or back from the next to the current).
Anything from applying a linear transformation, changing the color or just toggling the <!-- --><code>render</code> flag, can be expressed with such an <!-- --><code>AtomDiff</code>.<!-- --></p><p>This functionality is implemented in the <!-- --><code>apply</code> and <!-- --><code>reverse</code> member functions.
These take an atom and apply (or reverse) the changes this <!-- --><code>AtomDiff</code> represents.
Their <!-- --><code>m_id</code> member variable can be used to determine the <!-- --><code>Atom</code> this <!-- --><code>AtomDiff</code> should be used for.<!-- --></p><pre><code class="language-cpp">template&lt;typename AtomType&gt;
class ToggleRenderDiff: public AtomDiff&lt;AtomType&gt; {
public:
    explicit ToggleRenderDiff(uint32_t id)
        : AtomDiff&lt;AtomType&gt; {id} {}

    virtual void apply(AtomType&amp; atom) const override
    {
        atom.render = !atom.render;
    }
    virtual void reverse(AtomType&amp; atom) const override
    {
        atom.render = !atom.render;
    }
};
</code></pre><p>Templating is used to accept any type of <!-- --><code>Atom</code>.
<!-- --><code>AtomDiff</code>s are always immutable (always declared <!-- --><code>const</code>).<!-- --></p><p>This solves all of the aforementioned problems:</p><ol><li>Since <!-- --><code>AtomDiff</code>s only contain the data absolutely needed to apply the represented change, they consume very little memory.<!-- --></li><li>When the user changes an atom at any frame, only one <!-- --><code>AtomDiff</code> has to be created for that frame.<!-- --></li><li>When nothing happens in your scene, no <!-- --><code>AtomDiff</code>s are being added and basically no memory is consumed;
you can wait for as long as you like.<!-- --></li><li>Adding a new atom doesn&#x27;t add another <!-- --><code>AtomDiff</code>.
Only all systems using the <!-- --><code>AtomDiff</code>s should be made aware that a new atom exists.<!-- --></li></ol><p>The actual difference array is implemented in the <!-- --><code>AtomDiffLifetime</code>.
An <!-- --><code>AtomDiffLifetime</code> contains one <!-- --><code>AtomDiffFrame</code> for each frame.
<!-- --><code>AtomDiffFrame</code>s are a container for all <!-- --><code>AtomDiff</code>s belonging to that frame.
The <!-- --><code>apply</code> and <!-- --><code>reverse</code> member functions take an entire list of <!-- --><code>Atom</code>s as a parameter.
The aforementioned <!-- --><code>m_id</code> member variable is used to apply (or reverse) the correct <!-- --><code>AtomDiff</code>s on the correct <!-- --><code>Atom</code>.<!-- --></p><pre><code class="language-cpp">void apply(std::vector&lt;AtomType&gt;&amp; atoms) const
{
    for(const AtomDiff&lt;AtomType&gt;* atom_diff: m_atom_diffs) {
        atom_diff-&gt;apply(atoms[atom_diff-&gt;get_id()]);
    }
}
</code></pre><h2 id="atom-chain" style="position:relative">Atom Chain<!-- --><a href="#atom-chain" aria-label="atom chain permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h2><p>Being one of the central classes, an <!-- --><code>AtomChain</code> contains all <!-- --><code>Atoms</code> for one frame <!-- --><code>x</code>.
They can be seen as pointing to the frame <!-- --><code>x</code> within the <!-- --><code>AtomDiffLifetime</code>.
To stick with the mathematical terminology, think of it as the integral from frame <!-- --><code>0</code> to frame <!-- --><code>x</code>.
This &quot;pointer&quot; can freely be moved around to represent the requested frame.
To achieve this, the underlying <!-- --><code>AtomDiff</code>s owned by the <!-- --><code>AtomDiffLifetime</code> are being used to approach the target frame.<!-- --></p><pre><code class="language-cpp">void set_frame(
    uint32_t frame,
    const AtomDiffLifetime&lt;AtomType&gt;&amp; atom_diff_lifetime)
{
    ...
    while(m_frame &lt; frame)
        // adjust m_frame and call atom_diff_lifetime.apply
        next_frame(atom_diff_lifetime);
    while(m_frame &gt; frame)
        prev_frame(atom_diff_lifetime);
}
</code></pre><p>The difference between an <!-- --><code>AtomChain</code> and an <!-- --><code>AtomDiffFrame</code> is that the <!-- --><code>AtomChain</code> represents the absolute status of a frame.
The <!-- --><code>AtomDiffFrame</code>, on the other hand, defines how two consecutive frames differ.<!-- --></p><p>There are always two atom chains in use for any type, a control and a render atom chain.</p><ul><li>The render atom chain is needed to render the frame the interactive window requests.</li><li>To apply any absolute changes at frame <!-- --><code>x</code> the control thread needs to know what the current state of frame <!-- --><code>x</code> is.
Otherwise it wouldn&#x27;t know how to adjust the atoms in frame <!-- --><code>x-1</code> to become the new <!-- --><code>x</code>.
Thus the control thread needs its own atom chain.<!-- --></li></ul><p>The first frame is frame <!-- --><code>0</code>.
It cannot display anything as it is used as the foundation for any following frames;
you can see it as a defined <!-- --><a href="https://en.wikipedia.org/wiki/Constant_of_integration">constant of integration</a>.
Only subsequent frames can be the target of <!-- --><code>AtomDiff</code>s.<!-- --></p><h2 id="chrono-syncs" style="position:relative">Chrono Syncs<!-- --><a href="#chrono-syncs" aria-label="chrono syncs permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h2><p>One might wonder what happens when the control atom chain changes a frame that lies before the render atom chain.
This is exactly what happened in the <!-- --><a href="#walkthrough">Walkthrough</a>.
In this situation the render atom chain would be outdated, because its <!-- --><em>past</em> changed.
To fix this, Maki performs a chrono sync.<!-- --></p><p>This means that the render atom chain evicts all of it&#x27;s data and recreates all atoms with default member variables.
Therefore it points to the 0th frame.
Since none of the atoms in this frame have been changed, the default atoms currently in the render atom chain are correct—
the render thread is synchronised again.
To get back to where the render atom chain left off, it can use the already explained <!-- --><code>set_frame</code> member function.<!-- --></p><h1 id="templates" style="position:relative">Templates<!-- --><a href="#templates" aria-label="templates permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h1><p>All functions and classes handling atoms are templated, so that all kinds of atoms can be accepted.
But that also means that each <!-- --><code>AtomDiffLifetime</code> can only handle one type of atom.
Therefore multiple <!-- --><code>AtomDiffLifetime</code>s are required to express the entire breadth of atom types.<!-- --></p><h2 id="templated-memory" style="position:relative">Templated Memory<!-- --><a href="#templated-memory" aria-label="templated memory permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h2><p>To conveniently access the correct <!-- --><code>AtomDiffLifetime</code>, &quot;templated memory&quot; is being used:<!-- --></p><pre><code class="language-cpp">class AtomDispenser {
    ...
    // general declaration
    template&lt;typename AtomType&gt;
    AtomDiffLifetime&lt;AtomType&gt;&amp; get_diff_lifetime();

    AtomDiffLifetime&lt;CuboidAtom&gt;        m_cuboid_diff_lifetime {};
    AtomDiffLifetime&lt;QuadrilateralAtom&gt; m_quadrilateral_diff_lifetime {};
};

// specializations //
// for CuboidAtoms
template&lt;&gt;
inline AtomDiffLifetime&lt;CuboidAtom&gt;&amp; AtomDispenser::get_diff_lifetime&lt;CuboidAtom&gt;()
{
    return m_cuboid_diff_lifetime;
}
// for QuadrilateralAtoms
template&lt;&gt;
inline AtomDiffLifetime&lt;QuadrilateralAtom&gt;&amp; AtomDispenser::get_diff_lifetime&lt;QuadrilateralAtom&gt;()
{
    return m_quadrilateral_diff_lifetime;
}
</code></pre><p>The function <!-- --><code>AtomDiffLifetime&lt;AtomType&gt;&amp; get_diff_lifetime()</code> is actually nowhere defined.
Only the specialized versions can be found, like <!-- --><code>AtomDiffLifetime&lt;QuadrilateralAtom&gt;&amp; get_diff_lifetime&lt;QuadrilateralAtom&gt;</code>.
As you can see, the general type <!-- --><code>AtomType</code> has been specialized with <!-- --><code>QuadrilateralAtom</code>.
This way the templating system decides which definition should be called, or fails when there is no specialization for the requested type.<!-- --></p><h2 id="rendering-atoms" style="position:relative">Rendering Atoms<!-- --><a href="#rendering-atoms" aria-label="rendering atoms permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h2><p>An <!-- --><code>AtomRenderer</code> uses the underlying rendering abstraction to actually render an <!-- --><code>Atom</code>.
The implementation of such may vary wildly as each <!-- --><code>Atom</code> has a different optimal way of being rendered.
While some may use a common base class (like the <!-- --><code>BatchRenderer</code>) others stand on their own.<!-- --></p><p>The <!-- --><code>AtomRendererRouter</code> is unfortunately needed to make these different implementations accessible from the templated world of <!-- --><code>Atom</code>s.<!-- --></p><pre><code class="language-cpp">template&lt;typename AtomType&gt;
struct AtomRendererRouter {
    // can&#x27;t be used unspecialized
    typedef void type;
};

template&lt;&gt;
struct AtomRendererRouter&lt;CuboidAtom&gt; {
    typedef CuboidRenderer type;
};

template&lt;&gt;
struct AtomRendererRouter&lt;QuadrilateralAtom&gt; {
    typedef QuadrilateralRenderer type;
};
</code></pre><p>This router can be used like this to resolve <!-- --><code>Atom</code> types to their respective renderer:<!-- --></p><pre><code class="language-cpp">typename AtomRendererRouter&lt;CuboidAtom&gt;::type* m_cuboid_renderer {nullptr};
</code></pre><p>Being converted to this by the compiler:</p><pre><code class="language-cpp">CuboidRenderer* m_cuboid_renderer {nullptr};
</code></pre><p>(The <!-- --><code>{nullptr}</code> is not necessary but always a nice touch ^^).<!-- --></p><h2 id="why-templates" style="position:relative">Why Templates?<!-- --><a href="#why-templates" aria-label="why templates permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h2><div class="half_element-module--wrapper--moV5-"><div class="half_element-module--before--6ITLy"></div><div class="half_element-module--element--DCuyc"><p class="video-module--removed_warn--qVTBl">[video removed from print]</p><video class="video-module--video_no_print--gSNum" controls="" loop="" muted="" autoplay="" width="1920" height="1080"><source src="/static/fly_around_02-ef80a8d1c9d1388d40fa1d76a69012fe.mp4" type="video/mp4"/></video></div><div class="half_element-module--after--1comw"></div></div><p>Why not use an arguably much simpler object-oriented approach?</p><p>An <!-- --><code>AtomDiff</code> can be applied to any <!-- --><code>Atom</code> that provides the necessary member functions (an atom that doesn&#x27;t have a color can&#x27;t be painted red).
So <!-- --><code>AtomDiff</code>s are templated to suit any such <!-- --><code>Atom</code>.
Instead of using templates, I could have used an abstract <!-- --><code>Atom</code> base class.<!-- --></p><p>The problem with that lays in the way the <!-- --><code>Atom</code>s are being accessed.
<!-- --><code>Atom</code>s are currently stored in an <!-- --><code>std::vector</code>, which is the silly C++ way of saying &quot;dynamic size array&quot;.
There is one <!-- --><code>std::vector</code> for each type of <!-- --><code>Atom</code>.
Memory allocated by an <!-- --><code>std::vector</code> is always contiguous.
Therefore the atoms lay side by side and the renderer, chewing through all atoms one at a time, gets sped up by the hardware prefetcher.<!-- --></p><p>But this only works since the compiler knows the size of that type of <!-- --><code>Atom</code>.
If I were to use inheritance and a single <!-- --><code>std::vector</code> of type <!-- --><code>Atom</code>, the size of one of these <!-- --><code>Atom</code>s isn&#x27;t always the same.
For example a Cube needs a lot more data than a triangle.<!-- --></p><p>This can still be done of course.
The way to do it is by storing pointers to the actual objects.
Consequently, that the objects are scattered all over memory and the hardware prefetcher feels an urge to give up.
In this case using contiguous memory amounts to a total <!-- --><strong>performance</strong> increase of 35 to 60 (!!!) percent.<!-- --></p><p>I could have still used multiple <!-- --><code>std::vector</code>s with inheritance.
But that means that all <!-- --><code>AtomDiff</code>s and any other objects need to accept abstract types and potentially cast them down into more specific ones.
This adds performance overhead, because any one function can&#x27;t be optimized for one type of atom, and dynamic casting isn&#x27;t exactly free.
The main problem is that calling function discards information, which the called function has to painstakingly recreate.
To put it in a nutshell, I&#x27;m incredibly <!-- --><strong>afraid of loosing type information</strong>.<!-- --></p><div class="utils-module--spacer--VOmJs"></div><h1 id="path-of-an-atom" style="position:relative">Path of an Atom<!-- --><a href="#path-of-an-atom" aria-label="path of an atom permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h1><p>Let&#x27;s wrap things up by looking at the path an atom takes, from the interactive Python shell to the screen.</p><ol><li>A cuboid gets created from Python using the <!-- --><code>add_cuboid_atom</code> function, which gets redirected to <!-- --><code>RenderDriver::add_atom&lt;CuboidAtom&gt;</code>.
This creates a new default constructed <!-- --><code>CuboidAtom</code> in the control and render <!-- --><code>AtomChain&lt;CuboidAtom&gt;</code>s.
Python receives an identifier with which it can apply changes to the atom.<!-- --></li><li>Since all default constructed atoms have their <!-- --><code>render</code> flag set to false, our cuboid doesn&#x27;t get shown.
This flag gets checked in the <!-- --><code>draw_atom</code> member functions in the respective <!-- --><code>AtomRenderer</code>.<!-- --></li><li>We perform an operation on the cuboid, namely <!-- --><code>show_cuboid_atom</code>, to start showing the atom in frame <!-- --><code>3</code>.
To apply the requested change, the control atom chain is being moved to the 3rd frame.<!-- --></li><li>Now the newly created <!-- --><code>ToggleRenderDiff&lt;CuboidAtom&gt;</code> can be added to the correct <!-- --><code>AtomDiffFrame</code>.
Because the control atom chain needs to stay synchronised, the new <!-- --><code>AtomDiff</code> is being applied to it.<!-- --></li><li>The last task the control thread has to perform is to warn the render thread that something got changed.
<!-- --><code>m_first_outdated_frame</code> in the <!-- --><code>AtomDiffLifetime</code> gets set to <!-- --><code>3-1=2</code>.<!-- --></li><li>Say our render atom chain is currently representing frame <!-- --><code>5</code>.
Because <!-- --><code>5&gt;=2</code> a chrono sync has to be performed, after which the render atom chain is being moved back to frame <!-- --><code>5</code>.<!-- --></li><li>Now the <!-- --><code>CuboidRenderer</code> has a new cube to render, which it does by using the underlying renderer API abstraction.<!-- --></li></ol><h1 id="conclusion-and-future-plans" style="position:relative">Conclusion and Future Plans<!-- --><a href="#conclusion-and-future-plans" aria-label="conclusion and future plans permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h1><p>Currently Maki is a developmental example for the practical use of diff arrays, templates and multi threading.
At the time being it isn&#x27;t a usable program, though that might change in the future.</p><p>One of the biggest areas of development is adding more atoms.
This includes bezier curves, spheres and LaTeX rendering.
Any already implemented atoms can be improved with better shaders.
Among other features, these would bring shadows and wireframe rendering to Maki.
A more complicated aspect is morphing, which is required to smoothly transform atoms into different types.
And lastly the user interface has to be greatly improved.
The integration or reimplementation of an already existing graphics library is conceivable.</p><p>A major question of debate will concern weather any given feature should be implemented in C++ or Python.</p><h1 id="appendix" style="position:relative">Appendix<!-- --><a href="#appendix" aria-label="appendix permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h1><p>You can find Maki&#x27;s current status on GitHub at <!-- --><a href="https://github.com/christopher-besch/maki">christopher-besch/maki</a>.
Maki&#x27;s version as of this article&#x27;s writing can be accessed <!-- --><a href="https://github.com/christopher-besch/maki/tree/30f3d5a358e1b89803a534c666318b14138a6756">here</a>.
Feel free to leave a star ^^<!-- --></p><h2 id="directory-overview" style="position:relative">Directory Overview<!-- --><a href="#directory-overview" aria-label="directory overview permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h2><pre><code>.
├── maki
│   ├── src
│   │   └── maki.cpp
│   └── CMakeLists.txt
├── maki_core
│   ├── include
│   │   └── maki.h
│   ├── res
│   │   └── shaders
│   │       ├── cuboid_frag.glsl
│   │       ├── cuboid_vert.glsl
│   │       ├── simple_fragment.glsl
│   │       └── simple_vertex.glsl
│   ├── src
│   │   ├── atom
│   │   │   ├── atoms
│   │   │   │   ├── cuboid_atom.cpp
│   │   │   │   ├── cuboid_atom.h
│   │   │   │   ├── quadrilateral_atom.cpp
│   │   │   │   └── quadrilateral_atom.h
│   │   │   ├── renderers
│   │   │   │   ├── batch_renderer.cpp
│   │   │   │   ├── batch_renderer.h
│   │   │   │   ├── cuboid_renderer.cpp
│   │   │   │   ├── cuboid_renderer.h
│   │   │   │   ├── quadrilateral_renderer.cpp
│   │   │   │   └── quadrilateral_renderer.h
│   │   │   ├── atom_chain.h
│   │   │   ├── atom_diff_frame.h
│   │   │   ├── atom_diff.h
│   │   │   ├── atom_diff_lifetime.h
│   │   │   ├── atom_dispenser.cpp
│   │   │   ├── atom_dispenser.h
│   │   │   ├── atom.h
│   │   │   └── atom_renderer.h
│   │   ├── core
│   │   │   ├── definitions.h
│   │   │   ├── log.cpp
│   │   │   ├── log.h
│   │   │   ├── thread_safety.cpp
│   │   │   └── thread_safety.h
│   │   ├── driver
│   │   │   ├── camera_driver.cpp
│   │   │   ├── camera_driver.h
│   │   │   ├── interface.h
│   │   │   ├── render_driver_control.cpp
│   │   │   ├── render_driver.h
│   │   │   └── render_driver_render.cpp
│   │   ├── platform
│   │   │   ├── glfw
│   │   │   │   └── glfw_window.cpp
│   │   │   ├── enums.h
│   │   │   ├── event.h
│   │   │   ├── window.cpp
│   │   │   └── window.h
│   │   ├── renderer
│   │   │   ├── opengl
│   │   │   │   ├── opengl_buffer.cpp
│   │   │   │   ├── opengl_buffer.h
│   │   │   │   ├── opengl_renderer.cpp
│   │   │   │   ├── opengl_renderer.h
│   │   │   │   ├── opengl_shader.cpp
│   │   │   │   ├── opengl_shader.h
│   │   │   │   ├── opengl_stringifier.cpp
│   │   │   │   ├── opengl_stringifier.h
│   │   │   │   ├── opengl_types.h
│   │   │   │   ├── opengl_vertex_array.cpp
│   │   │   │   └── opengl_vertex_array.h
│   │   │   ├── buffer.cpp
│   │   │   ├── buffer.h
│   │   │   ├── camera.cpp
│   │   │   ├── camera.h
│   │   │   ├── renderer.cpp
│   │   │   ├── renderer.h
│   │   │   ├── shader.cpp
│   │   │   ├── shader.h
│   │   │   ├── types.h
│   │   │   ├── vertex_array.cpp
│   │   │   └── vertex_array.h
│   │   ├── pch.cpp
│   │   └── pch.h
│   └── CMakeLists.txt
├── stub
│   ├── src
│   │   └── main.cpp
│   └── CMakeLists.txt
└── CMakeLists.txt
</code></pre><p>Created with</p><pre><code class="language-bash">tree --dirsfirst . -I &#x27;vendor|build|pretty_bugs|block.txt|imgui.ini|LICENSE|maki.cpython-310-x86_64-linux-gnu.so|maki_showcase.ipynb|README.md&#x27;
</code></pre></div></div><footer class="layout-module--footer--4b3+4"><ul><li class="layout-module--link--8S4u4"><a href="/about">Contact</a></li><li class="layout-module--link--8S4u4"><a href="https://github.com/christopher-besch/homepage" target="_blank">Source</a></li><li class="layout-module--link--8S4u4"><a href="/privacy">Privacy</a></li><li><p>© 2022</p></li><li class="layout-module--emoji--Mxypj"><p>🔗</p></li></ul></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/articles/maki_atoms_and_time_travel";window.___webpackCompilationHash="eefcae64c14bc87a72a9";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-6798da5232dd35516bc7.js"],"app":["/app-d7d949e8ddefe7cc1c26.js"],"component---src-pages-404-tsx":["/component---src-pages-404-tsx-a2ee354399b4fe6444d7.js"],"component---src-pages-about-tsx":["/component---src-pages-about-tsx-149ee5ba4ed30c82fe2b.js"],"component---src-pages-articles-tsx":["/component---src-pages-articles-tsx-eb11453e987d0df1e128.js"],"component---src-pages-index-tsx":["/component---src-pages-index-tsx-2706e8bfad7440d2cf29.js"],"component---src-pages-privacy-tsx":["/component---src-pages-privacy-tsx-5595c3998f7cc75aa348.js"],"component---src-pages-projects-tsx":["/component---src-pages-projects-tsx-661cf98ff39684af851c.js"],"component---src-pages-rocket-tsx":["/component---src-pages-rocket-tsx-0aa0e319b1c2afe80c41.js"],"component---src-templates-article-tsx":["/component---src-templates-article-tsx-8eedb1c0c163f96cfb8f.js"],"component---src-templates-projects-language-tsx":["/component---src-templates-projects-language-tsx-d6775d16f7fd1e747f72.js"]};/*]]>*/</script><script src="/polyfill-6798da5232dd35516bc7.js" nomodule=""></script><script src="/component---src-templates-article-tsx-8eedb1c0c163f96cfb8f.js" async=""></script><script src="/commons-20e220f6f7b8d4dfa840.js" async=""></script><script src="/app-d7d949e8ddefe7cc1c26.js" async=""></script><script src="/framework-1a88f0df97e9df2beedb.js" async=""></script><script src="/webpack-runtime-8f9963441216a4d2291c.js" async=""></script></body></html>