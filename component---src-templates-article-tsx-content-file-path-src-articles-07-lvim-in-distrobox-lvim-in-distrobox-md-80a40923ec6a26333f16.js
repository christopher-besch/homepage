"use strict";(self.webpackChunkhomepage=self.webpackChunkhomepage||[]).push([[718],{7825:function(e,n,t){t.r(n),t.d(n,{Head:function(){return N},default:function(){return H}});var a=t(8453),l=t(6540);function r(e){const n=Object.assign({p:"p",a:"a",h3:"h3",span:"span",pre:"pre",code:"code",ol:"ol",li:"li"},(0,a.R)(),e.components);return l.createElement(l.Fragment,null,l.createElement(n.p,null,"You're missing that one program that isn't available in your Linux distro?\nWith ",l.createElement(n.a,{href:"https://distrobox.privatedns.org"},"Distrobox"),", the 'Linux Subsystem for Linux,' you can install it anyways.\nThis article explains how to do that with the example of installing ",l.createElement(n.a,{href:"https://www.lunarvim.org"},"LunarVim")," on Red Hat."),"\n",l.createElement(n.p,null,"LunarVim's dependencies aren't part of Red Hat's official repositories.\nBut with Docker you can run any program in containers, similar to a virtual machine.\nThese containers can be based on any distribution, regardless of your host's distro.\nSo you can use Docker to create for example an Arch container and install LunarVim in it.\nTo allow LunarVim to access your host's files, you have to mount your host's root directory.\nTo make these mounts, starting the container and launching its programs from your host easier, Distrobox has been created."),"\n",l.createElement(n.h3,{id:"installing-requirements-on-host",style:{position:"relative"}},l.createElement(n.a,{href:"#installing-requirements-on-host","aria-label":"installing requirements on host permalink",className:"anchor before"},l.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Installing Requirements on Host"),"\n",l.createElement(n.p,null,"Distrobox requires Docker or Podman (a fork of Docker that runs containers rootlessly).\nBoth Distrobox and Podman are part of ",l.createElement(n.a,{href:"https://docs.fedoraproject.org/en-US/epel"},"the Extra Packages for Enterprise Linux (EPEL)"),", an official repository you can add to Red Hat.\nFollow the instructions on the official page linked above to install the repo.\nNow you can install what you need:"),"\n",l.createElement(n.pre,null,l.createElement(n.code,{className:"language-bash"},"yum install podman-docker\nyum install distrobox\n")),"\n",l.createElement(n.h3,{id:"creating-the-container",style:{position:"relative"}},l.createElement(n.a,{href:"#creating-the-container","aria-label":"creating the container permalink",className:"anchor before"},l.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Creating the Container"),"\n",l.createElement(n.p,null,"First you have to create an Arch container using Distrobox.\nBecause LunarVim installs many files in the home directory, you should create such a directory specifically for your Arch container.\nOtherwise your host's home directory would get bloated."),"\n",l.createElement(n.pre,null,l.createElement(n.code,{className:"language-bash"},"mkdir -p ~/.distrobox/arch`\ndistrobox-create --name arch --image archlinux --home ~/.distrobox/arch\n")),"\n",l.createElement(n.p,null,"Now you can attach your terminal to the container's stdin and stdout:"),"\n",l.createElement(n.pre,null,l.createElement(n.code,{className:"language-bash"},"distrobox enter arch\n")),"\n",l.createElement(n.h3,{id:"inside-the-container",style:{position:"relative"}},l.createElement(n.a,{href:"#inside-the-container","aria-label":"inside the container permalink",className:"anchor before"},l.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Inside the Container"),"\n",l.createElement(n.p,null,"Now you're inside your container's shell.\nIn this article, all commands that start with a ",l.createElement(n.code,null,"$")," are to be run in your container, not your host.\nIf you like, you can install all your dotfiles at this point."),"\n",l.createElement(n.pre,null,l.createElement(n.code,{className:"language-bash"},"# requires https://gitub.com/christopher-besch/configs in your host's ~/.custom_configs\n$ /home/$(whoami)/.custom_configs/install.sh server && source ~/.bashrc\n")),"\n",l.createElement(n.p,null,"Let's use ",l.createElement(n.code,null,"pacman"),", the Arch package manager, to install what Red Hat's ",l.createElement(n.code,null,"yum")," can't provide:"),"\n",l.createElement(n.pre,null,l.createElement(n.code,{className:"language-bash"},"# if you're asked what repos to use, the defaults are fine\n$ sudo pacman -S git make python-pip cargo neovim vim xclip\n")),"\n",l.createElement(n.p,null,"LunarVim requires ",l.createElement(n.code,null,"node"),";\nthis is best done with ",l.createElement(n.code,null,"nvm"),".\nYou should check the current version of the installation script in ",l.createElement(n.a,{href:"https://github.com/nvm-sh/nvm#install--update-script"},"the official nvm install docs")," and change the ",l.createElement(n.code,null,"curl")," command accordingly:"),"\n",l.createElement(n.pre,null,l.createElement(n.code,{className:"language-bash"},"$ curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.2/install.sh | bash && source ~/.bashrc\n$ nvm install node\n")),"\n",l.createElement(n.p,null,"Once that is done, you can finally install LunarVim."),"\n",l.createElement(n.pre,null,l.createElement(n.code,{className:"language-bash"},"# answer yes to all questions\n$ bash <(curl -s https://raw.githubusercontent.com/lunarvim/lunarvim/master/utils/installer/install.sh)\n")),"\n",l.createElement(n.p,null,"Now a little bit of work has to be done on your containers ",l.createElement(n.code,null,"~/.bashrc")," (located at ",l.createElement(n.code,null,"~/.distrobox/arch/.bashrc")," on your host):"),"\n",l.createElement(n.ol,null,"\n",l.createElement(n.li,null,"Add ",l.createElement(n.code,null,"export PATH=/home/$(whoami)/.distrobox/arch/.local/bin:$PATH")," and"),"\n",l.createElement(n.li,null,"remove the line ",l.createElement(n.code,null,"[[ $- != *i* ]] && return"),".\nOtherwise ",l.createElement(n.code,null,"nvm"),"'s installation paths don't get loaded when starting LunarVim from your host."),"\n"),"\n",l.createElement(n.p,null,"In order for those paths to get loaded, we have to ",l.createElement(n.code,null,"source")," the just edited ",l.createElement(n.code,null,"~/.bashrc")," every time LunarVim starts.\nThis can be done with a little wrapper script you should put into ",l.createElement(n.code,null,"~/lvim")," in your container."),"\n",l.createElement(n.pre,null,l.createElement(n.code,{className:"language-bash"},'#!/bin/bash\n\nsource ~/.bashrc\nlvim "$@"\n')),"\n",l.createElement(n.p,null,"Mark this file executable"),"\n",l.createElement(n.pre,null,l.createElement(n.code,{className:"language-bash"},"$ chmod +x ~/lvim\n")),"\n",l.createElement(n.p,null,"and export it to be usable from your host using Distrobox (still from within your container)."),"\n",l.createElement(n.pre,null,l.createElement(n.code,{className:"language-bash"},'$ distrobox-export --bin "/home/$(whoami)/.distrobox/arch/lvim" --export-path "/home/$(whoami)/.local/bin"\n')),"\n",l.createElement(n.p,null,"This creates the file ",l.createElement(n.code,null,"~/.local/bin/lvim")," on your host.\nWhen you run it from your host, Distrobox starts the container (if not already done so) and launches LunarVim with the ",l.createElement(n.code,null,"PATH")," variable and all mounts properly configured."),"\n",l.createElement(n.h3,{id:"finalizing",style:{position:"relative"}},l.createElement(n.a,{href:"#finalizing","aria-label":"finalizing permalink",className:"anchor before"},l.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Finalizing"),"\n",l.createElement(n.p,null,"You need to ",l.createElement(n.code,null,"export PATH=/home/$HOME/.local/bin:$PATH")," in your host's ",l.createElement(n.code,null,"~/.bashrc")," but then you can run ",l.createElement(n.code,null,"lvim")," from your host and use LunarVim just as if it were natively installed.\nSince all the language servers used by LunarVim are installed in the container, all programming languages you use need to be installed in both your host and your container."))}var o=function(e){void 0===e&&(e={});const{wrapper:n}=Object.assign({},(0,a.R)(),e.components);return n?l.createElement(n,e,l.createElement(r,e)):r(e)},i=t(5365),s=t(2224),c=t(9121),u=t(4241),m=t(4810),h=t(1244),d=t(5071),p=t(9105),v=t(6897),g=t(7629),b=t(8029),f=t(1042),E=t(5526),y=t(5969);const x={AutoPlayVideo:d.A,HalfImage:p.A,Spacer:v.A,Quote:g.A,Iframe:b.A,CompareView:h.A,pre:e=>{let{children:n}=e;return l.createElement("div",{className:"code-container"}," ",l.createElement("pre",null,n))},code:e=>{let{children:n,className:t}=e;return t?l.createElement(E.A,{className:t},n):l.createElement("code",{className:"language-text"},n)},a:y.A},w=e=>{var n,t,r,o,h,d,p,v,g,b,f,E,y,w;let{data:H,children:N}=e;const S=null===(n=H.mdx)||void 0===n||null===(t=n.frontmatter)||void 0===t?void 0:t.version,k=null===(r=H.mdx)||void 0===r||null===(o=r.frontmatter)||void 0===o?void 0:o.title,_=/^0\./.test(S)?`Draft v${S}`:void 0,L=null===(h=H.mdx)||void 0===h||null===(d=h.frontmatter)||void 0===d?void 0:d.date,A=null!=(null===(p=H.mdx)||void 0===p||null===(v=p.frontmatter)||void 0===v?void 0:v.title_banner),V={"--banner-image-horizontal-position":null===(g=H.mdx)||void 0===g||null===(b=g.frontmatter)||void 0===b?void 0:b.title_banner_horizontal_position,"--banner-image-vertical-position":null===(f=H.mdx)||void 0===f||null===(E=f.frontmatter)||void 0===E?void 0:E.title_banner_vertical_position};return l.createElement(i.A,{heading:k,sub_heading:_,banner_image:A?null===(y=H.mdx)||void 0===y||null===(w=y.frontmatter)||void 0===w?void 0:w.title_banner:void 0,banner_image_style:V,small_banner:!0,banner_content:l.createElement("div",{className:`${s.yu} ${A?s.Lx:void 0}`},l.createElement("span",{className:s.cy},"Written by Christopher Besch, published on "),L)},l.createElement("div",{className:c.xo},l.createElement(a.x,{components:x},N)),l.createElement(m.N_,{className:`${u.om} ${u.nf}`,to:"/articles"},"More Articles"))};function H(e){return l.createElement(w,e,l.createElement(o,e))}const N=e=>{var n,t,a,r,o,i;let{data:s}=e;const c=null===(n=s.mdx)||void 0===n||null===(t=n.frontmatter)||void 0===t?void 0:t.title,u=null===(a=s.mdx)||void 0===a||null===(r=a.frontmatter)||void 0===r?void 0:r.description,m=null===(o=s.mdx)||void 0===o||null===(i=o.frontmatter)||void 0===i?void 0:i.banner,h=m&&"undefined"!=m?m:void 0;return l.createElement(f.A,{heading:c,description:u,banner:h})}}}]);
//# sourceMappingURL=component---src-templates-article-tsx-content-file-path-src-articles-07-lvim-in-distrobox-lvim-in-distrobox-md-80a40923ec6a26333f16.js.map